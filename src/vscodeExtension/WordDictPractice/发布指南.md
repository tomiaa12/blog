# ğŸ“¦ VSCode æ’ä»¶å‘å¸ƒå¿«é€ŸæŒ‡å—

## âœ… å‘å¸ƒå‰å‡†å¤‡æ¸…å•

### 1. æ›´æ–° package.json

- [ ] **publisher**: æ”¹ä¸ºä½ çš„å‘å¸ƒè€…åç§°ï¼ˆä¸‹é¢ä¼šåˆ›å»ºï¼‰
  ```json
  "publisher": "your-publisher-name"  // â† éœ€è¦ä¿®æ”¹
  ```

- [ ] **version**: ç¡®è®¤ç‰ˆæœ¬å·
  ```json
  "version": "0.0.1"  // é¦–æ¬¡å‘å¸ƒä¿æŒ 0.0.1
  ```

- [ ] **description**: å·²æ›´æ–° âœ…
- [ ] **keywords**: å·²æ·»åŠ  âœ…
- [ ] **repository**: å·²æ›´æ–° âœ…

### 2. æ£€æŸ¥å¿…éœ€æ–‡ä»¶

- [x] `extension.js` - ä¸»ç¨‹åºæ–‡ä»¶
- [x] `package.json` - é…ç½®æ–‡ä»¶
- [x] `README.md` - è¯´æ˜æ–‡æ¡£
- [x] `resources/icon.svg` - å›¾æ ‡æ–‡ä»¶
- [ ] `.vscodeignore` - å‘å¸ƒæ—¶å¿½ç•¥çš„æ–‡ä»¶ï¼ˆå·²æœ‰ï¼‰

## ğŸš€ å‘å¸ƒæ­¥éª¤

### æ­¥éª¤ 1ï¼šåˆ›å»º Azure DevOps è´¦å·å’Œ Token

1. **è®¿é—® Azure DevOps**
   - ç½‘å€ï¼šhttps://dev.azure.com/
   - ä½¿ç”¨ Microsoft è´¦å·ç™»å½•ï¼ˆæ²¡æœ‰çš„è¯æ³¨å†Œä¸€ä¸ªï¼‰

2. **åˆ›å»º Personal Access Token (PAT)**
   - ç‚¹å‡»å³ä¸Šè§’ç”¨æˆ·å›¾æ ‡ â†’ **Personal access tokens**
   - ç‚¹å‡» **+ New Token**
   - é…ç½®ï¼š
     - Name: `VSCode Extension Publishing`
     - Organization: `All accessible organizations`
     - Expiration: `90 days`ï¼ˆæˆ–è‡ªå®šä¹‰ï¼‰
     - Scopes: é€‰æ‹© **Custom defined**
       - å‹¾é€‰ **Marketplace** â†’ **Manage** âœ…
   - ç‚¹å‡» **Create**
   - âš ï¸ **ç«‹å³å¤åˆ¶ç”Ÿæˆçš„ Token**ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼ï¼‰

### æ­¥éª¤ 2ï¼šåˆ›å»ºå‘å¸ƒè€…è´¦å·

#### æ–¹æ³• 1ï¼šé€šè¿‡ç½‘é¡µï¼ˆæ¨èï¼‰

è®¿é—®ï¼šhttps://marketplace.visualstudio.com/manage

1. ç‚¹å‡» **Create publisher**
2. å¡«å†™ä¿¡æ¯ï¼š
   - **Publisher ID**: ä½ çš„å‘å¸ƒè€…IDï¼ˆå…¨å°å†™ï¼Œæ— ç©ºæ ¼ï¼Œå¦‚ `tomiaa`ï¼‰
   - **Display name**: æ˜¾ç¤ºåç§°ï¼ˆå¦‚ `Tomiaa`ï¼‰
   - **Email**: ä½ çš„é‚®ç®±
3. ç‚¹å‡» **Create**

#### æ–¹æ³• 2ï¼šé€šè¿‡å‘½ä»¤è¡Œ

```bash
cd /Users/tomiaa/Documents/github/blog/src/vscodeExtension/WordDictPractice

npx @vscode/vsce create-publisher tomiaa
# æŒ‰æç¤ºè¾“å…¥ Display nameã€Email å’Œ PAT
```

### æ­¥éª¤ 3ï¼šæ›´æ–° package.json çš„ publisher

```bash
# ç¼–è¾‘ package.jsonï¼Œå°† publisher æ”¹ä¸ºä½ çš„å‘å¸ƒè€…ID
# ä¾‹å¦‚ï¼š
# "publisher": "tomiaa"
```

æˆ–è€…è¿è¡Œï¼š

```bash
# åœ¨æ’ä»¶ç›®å½•ä¸‹
cd /Users/tomiaa/Documents/github/blog/src/vscodeExtension/WordDictPractice

# ä½¿ç”¨ sed æ›¿æ¢ï¼ˆMac/Linuxï¼‰
sed -i '' 's/"publisher": "your-publisher-name"/"publisher": "tomiaa"/' package.json
```

### æ­¥éª¤ 4ï¼šç™»å½•å‘å¸ƒè€…è´¦å·

```bash
cd /Users/tomiaa/Documents/github/blog/src/vscodeExtension/WordDictPractice

npx @vscode/vsce login tomiaa
# è¾“å…¥ä½ åœ¨æ­¥éª¤1åˆ›å»ºçš„ Personal Access Token
```

### æ­¥éª¤ 5ï¼šæ‰“åŒ…æ’ä»¶

```bash
cd /Users/tomiaa/Documents/github/blog/src/vscodeExtension/WordDictPractice

# æ‰“åŒ…æˆ .vsix æ–‡ä»¶
npx @vscode/vsce package

# ç”Ÿæˆæ–‡ä»¶ï¼šword-dict-practice-0.0.1.vsix
```

### æ­¥éª¤ 6ï¼šæœ¬åœ°æµ‹è¯•ï¼ˆå¯é€‰ä½†æ¨èï¼‰

```bash
# åœ¨æœ¬åœ° VSCode ä¸­å®‰è£…æµ‹è¯•
code --install-extension word-dict-practice-0.0.1.vsix

# æµ‹è¯•åŠŸèƒ½æ˜¯å¦æ­£å¸¸
# æµ‹è¯•å®Œåå¯ä»¥å¸è½½
code --uninstall-extension tomiaa.word-dict-practice
```

### æ­¥éª¤ 7ï¼šå‘å¸ƒåˆ°å¸‚åœº

```bash
cd /Users/tomiaa/Documents/github/blog/src/vscodeExtension/WordDictPractice

# å‘å¸ƒæ’ä»¶
npx @vscode/vsce publish

# æˆ–è€…å‘å¸ƒå¹¶è‡ªåŠ¨å‡çº§ç‰ˆæœ¬
npx @vscode/vsce publish patch  # 0.0.1 -> 0.0.2
```

### æ­¥éª¤ 8ï¼šéªŒè¯å‘å¸ƒ

1. è®¿é—®ï¼šhttps://marketplace.visualstudio.com/manage
2. åº”è¯¥èƒ½çœ‹åˆ°ä½ çš„æ’ä»¶
3. ç­‰å¾…å‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶çš„å®¡æ ¸
4. å®¡æ ¸é€šè¿‡åï¼Œåœ¨ VSCode ä¸­æœç´¢æ’ä»¶åç§°å³å¯å®‰è£…

## ğŸ”„ æ›´æ–°å·²å‘å¸ƒçš„æ’ä»¶

```bash
cd /Users/tomiaa/Documents/github/blog/src/vscodeExtension/WordDictPractice

# ä¿®æ”¹ä»£ç å

# æ–¹å¼1ï¼šè‡ªåŠ¨å‡çº§è¡¥ä¸ç‰ˆæœ¬å¹¶å‘å¸ƒ
npx @vscode/vsce publish patch  # 0.0.1 -> 0.0.2

# æ–¹å¼2ï¼šå‡çº§å°ç‰ˆæœ¬
npx @vscode/vsce publish minor  # 0.0.1 -> 0.1.0

# æ–¹å¼3ï¼šå‡çº§å¤§ç‰ˆæœ¬
npx @vscode/vsce publish major  # 0.0.1 -> 1.0.0

# æ–¹å¼4ï¼šæŒ‡å®šç‰ˆæœ¬å·
npx @vscode/vsce publish 1.0.0
```

## ğŸ“ ä¸€é”®å‘å¸ƒè„šæœ¬

åˆ›å»ºä¸€ä¸ªå‘å¸ƒè„šæœ¬æ–¹ä¾¿ä½¿ç”¨ï¼š

```bash
# åœ¨æ’ä»¶ç›®å½•åˆ›å»º publish.sh
cat > publish.sh << 'EOF'
#!/bin/bash

echo "ğŸ“¦ å¼€å§‹å‘å¸ƒ VSCode æ’ä»¶..."

# 1. æ‰“åŒ…
echo "1ï¸âƒ£ æ‰“åŒ…æ’ä»¶..."
npx @vscode/vsce package

# 2. è¯¢é—®æ˜¯å¦å‘å¸ƒ
read -p "2ï¸âƒ£ æ˜¯å¦å‘å¸ƒåˆ°å¸‚åœº? (y/n) " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]
then
    # 3. é€‰æ‹©ç‰ˆæœ¬å‡çº§ç±»å‹
    echo "3ï¸âƒ£ é€‰æ‹©ç‰ˆæœ¬å‡çº§ç±»å‹:"
    echo "  1) patch (0.0.1 -> 0.0.2)"
    echo "  2) minor (0.0.1 -> 0.1.0)"
    echo "  3) major (0.0.1 -> 1.0.0)"
    echo "  4) ä¸å‡çº§ï¼Œç›´æ¥å‘å¸ƒ"
    read -p "è¯·é€‰æ‹© (1-4): " -n 1 -r
    echo
    
    case $REPLY in
        1) npx @vscode/vsce publish patch ;;
        2) npx @vscode/vsce publish minor ;;
        3) npx @vscode/vsce publish major ;;
        4) npx @vscode/vsce publish ;;
        *) echo "âŒ æ— æ•ˆé€‰æ‹©ï¼Œå–æ¶ˆå‘å¸ƒ" ;;
    esac
fi

echo "âœ… å®Œæˆï¼"
EOF

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x publish.sh
```

ä½¿ç”¨ï¼š

```bash
./publish.sh
```

## âš ï¸ é‡è¦æç¤º

1. **Personal Access Token**
   - å¦¥å–„ä¿ç®¡ï¼Œä¸è¦æäº¤åˆ°ä»£ç ä»“åº“
   - Token è¿‡æœŸåéœ€è¦é‡æ–°åˆ›å»ºå¹¶ç™»å½•

2. **æ’ä»¶åç§°**
   - å‘å¸ƒåä¸èƒ½ä¿®æ”¹ `name` å­—æ®µ
   - åªèƒ½ä¿®æ”¹ `displayName`

3. **ç‰ˆæœ¬å·è§„èŒƒ**
   - éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ (Semantic Versioning)
   - `MAJOR.MINOR.PATCH`
   - ä¸èƒ½å‘å¸ƒç›¸åŒç‰ˆæœ¬å·

4. **å®¡æ ¸æ—¶é—´**
   - é¦–æ¬¡å‘å¸ƒï¼šå‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶
   - æ›´æ–°ç‰ˆæœ¬ï¼šé€šå¸¸å‡ åˆ†é’Ÿ

5. **README é‡è¦æ€§**
   - å¸‚åœºé¡µé¢ä¼šæ˜¾ç¤º README.md
   - å†™æ¸…æ¥šåŠŸèƒ½ã€ä½¿ç”¨æ–¹æ³•ã€æˆªå›¾

6. **å›¾æ ‡**
   - å»ºè®®å°ºå¯¸ï¼š128x128 æˆ– 256x256
   - æ ¼å¼ï¼šPNG æˆ– SVG
   - å½“å‰ä½¿ç”¨ï¼š`resources/icon.svg`

## ğŸ¯ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```bash
# è¿›å…¥æ’ä»¶ç›®å½•
cd /Users/tomiaa/Documents/github/blog/src/vscodeExtension/WordDictPractice

# é¦–æ¬¡å‘å¸ƒ
npx @vscode/vsce create-publisher your-name    # åˆ›å»ºå‘å¸ƒè€…
npx @vscode/vsce login your-name                # ç™»å½•
npx @vscode/vsce package                        # æ‰“åŒ…
npx @vscode/vsce publish                        # å‘å¸ƒ

# æ›´æ–°å‘å¸ƒ
npx @vscode/vsce publish patch                  # å‘å¸ƒæ–°ç‰ˆæœ¬

# æœ¬åœ°æµ‹è¯•
code --install-extension word-dict-practice-0.0.1.vsix
code --uninstall-extension your-name.word-dict-practice
```

## ğŸ”— æœ‰ç”¨çš„é“¾æ¥

- **å‘å¸ƒç®¡ç†åå°**: https://marketplace.visualstudio.com/manage
- **Azure DevOps**: https://dev.azure.com/
- **VSCode æ‰©å±•å¸‚åœº**: https://marketplace.visualstudio.com/
- **å®˜æ–¹å‘å¸ƒæ–‡æ¡£**: https://code.visualstudio.com/api/working-with-extensions/publishing-extension

## ğŸ“š æ›´å¤šè¯¦ç»†ä¿¡æ¯

æŸ¥çœ‹å®Œæ•´å¼€å‘æ–‡æ¡£ï¼š[å¼€å‘æŒ‡å—.md](./å¼€å‘æŒ‡å—.md)

## ğŸ‰ å®Œæˆ

å‘å¸ƒæˆåŠŸåï¼Œç”¨æˆ·å°±å¯ä»¥åœ¨ VSCode ä¸­æœç´¢ "é»˜å†™å•è¯" æˆ– "word-dict-practice" å®‰è£…ä½ çš„æ’ä»¶äº†ï¼

