# Flutter 环境搭建

## 安装 Flutter

[Flutter sdk](https://docs.flutter.dev/install/archive?utm_source=chatgpt.com)

## powerShell 添加环境变量

```sh
[System.Environment]::SetEnvironmentVariable('Path', $env:Path + ";H:\flutter\bin", [System.EnvironmentVariableTarget]::User)
```

## 下载 Android Studio（官方）

Windows 上 Android SDK 没有单独官方下载包（zip 包已经被 Google 废弃）,必须通过 Android Studio 来下载 SDK。

[官方地址](https://developer.android.com/studio)

右上角 More Actions

进入 SDK Manager

在 SDK Platforms 勾选：
✔️ Android 14（或 Android 13 都行）

在 SDK Tools 勾选：
✔️ Android SDK Platform-Tools
✔️ Android SDK Build-Tools
✔️ Android SDK Command-line Tools
✔️ Android Emulator（可选）

点击 OK 下载。

![android-studio-sdk-manager](./imgs/android-studio-sdk-manager.png)
![android-studio-sdk-manager](./imgs/android-studio-sdk-manager-1.png)

```sh
C:\Users\你的用户名\AppData\Local\Android\Sdk
```

你打开 Android Studio → File → Settings → Appearance & Behavior → System Settings → Android SDK

这里能看到 SDK 路径。

## 添加环境变量（非常重要）

进入系统 → 环境变量 → PATH → 添加：

- `C:\Users\你的用户名\AppData\Local\Android\Sdk\platform-tools`
- `C:\Users\你的用户名\AppData\Local\Android\Sdk\cmdline-tools\latest\bin`

测试安卓 SDK 是否安装成功：

```sh
adb --version
```

## 让 Flutter 识别 SDK

```sh
flutter doctor --android-licenses
```

![flutter-doctor](./imgs/flutter-doctor.png)

最后再运行：

```sh
flutter doctor
```

![flutter-doctor](./imgs/flutter-doctor-1.png)

## fvm 管理 Flutter 版本

```sh
# 安装 fvm (如果未安装)
dart pub global activate fvm
# 安装某个版本 eg. 3.3.0 （示例）
fvm install 3.3.0
fvm use 3.3.0
# 然后用 fvm flutter 代替 flutter
fvm flutter pub get
fvm flutter run
```

- 查看 fvm 已安装的 Flutter 版本

```sh
fvm list

# 3.7.12 (global)
# 3.3.10
# 2.10.5
```

- 查看当前项目正在使用哪个 Flutter 版本

```sh
fvm flutter --version
```

## 镜像源

[镜像源](https://docs.flutter.cn/community/china/)

- 设置
```sh
$env:PUB_HOSTED_URL="https://pub.flutter-io.cn"
$env:FLUTTER_STORAGE_BASE_URL="https://storage.flutter-io.cn"
```

- 查看

```sh
echo $env:PUB_HOSTED_URL
```

- 删除

```sh
Remove-Item $env:PUB_HOSTED_URL
```


## vscode 调试断点

[地址](https://blog.csdn.net/Sakuramissing/article/details/135341873)